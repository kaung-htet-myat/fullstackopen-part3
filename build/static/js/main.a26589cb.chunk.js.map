{"version":3,"sources":["components/Filter.js","components/Form.js","components/Numbers.js","components/Alert.js","components/Communicate.js","App.js","index.js"],"names":["Filters","searchHandler","onChange","Form","onSubmitHandler","newName","nameChangeHandler","newNumber","numberChangeHandler","onSubmit","value","type","Numbers","personsToShow","onPersonDeleteHandler","map","person","name","number","onClick","e","id","AlertBox","content","boxStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","action","style","baseUrl","getPersons","axios","get","then","response","data","App","useState","persons","setPersons","setNewName","setNewNumber","setPersonsToShow","alertBox","setAlertBox","useEffect","event","preventDefault","every","post","postNewPerson","newPersons","concat","Alert","catch","error","console","log","window","confirm","targetPerson","find","changedPerson","put","updatePerson","Filter","filter","match","RegExp","target","delete","deletePerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a26589cb.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filters = ({searchHandler}) =>\r\n    <div>\r\n        filter: <input onChange={searchHandler} />\r\n    </div>\r\n\r\nexport default Filters","import React from 'react'\r\n\r\nconst Form = ({onSubmitHandler, newName, nameChangeHandler, newNumber, numberChangeHandler}) => {\r\n    return (\r\n        <form onSubmit={onSubmitHandler}>\r\n            <div>\r\n                name: <input value={newName} onChange={nameChangeHandler} />\r\n            </div>\r\n            <div>\r\n                number: <input value={newNumber} onChange={numberChangeHandler} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Form","import React from 'react'\r\n\r\nconst Numbers = ({personsToShow, onPersonDeleteHandler}) =>\r\n    <ul>\r\n        {personsToShow.map(person => \r\n            <li key={person.name}>\r\n                {person.name}\r\n                &nbsp;\r\n                {person.number}\r\n                <button onClick={(e) => onPersonDeleteHandler(e, person.id, person.name)}>delete</button>\r\n            </li>)}\r\n    </ul>\r\n\r\n\r\nexport default Numbers","import React from 'react'\r\n\r\nconst AlertBox = ({ name, action }) => {\r\n\r\n    let content = null\r\n    const boxStyle = {\r\n        color: \"red\",\r\n        background: \"lightgrey\",\r\n        fontSize: \"20px\",\r\n        borderStyle: \"solid\",\r\n        borderRadius: \"5px\",\r\n        padding: \"10px\",\r\n        marginBottom: \"10px\",\r\n    }\r\n\r\n    switch (action) {\r\n        case \"add\":\r\n            content = (\r\n                <div style={boxStyle}>\r\n                    Added {name} to the phonebook\r\n                </div>\r\n            )\r\n            break\r\n        case \"update\":\r\n            content = (\r\n                <div style={boxStyle}>\r\n                    Updated {name}'s number in the phonebook\r\n                </div>\r\n            )\r\n            break\r\n        case \"delete\":\r\n            content = (\r\n                <div style={boxStyle}>\r\n                    Deleted {name} from the phonebook\r\n                </div>\r\n            )\r\n            break\r\n        case \"deleted\":\r\n            content = (\r\n                <div style={boxStyle}>\r\n                    {name} has already been deleted from the phonebook\r\n                </div>\r\n            )\r\n            break\r\n        case \"validationError\":\r\n            content = (\r\n                <div style={boxStyle}>\r\n                    {name}\r\n                </div>\r\n            )\r\n            break\r\n        default:\r\n            content = null\r\n    }\r\n\r\n    return content\r\n}\r\n\r\nexport default AlertBox","import axios from 'axios'\r\n\r\nconst baseUrl = \"/api/persons\"\r\n\r\nconst postNewPerson = (name, number) => {\r\n    const person = {\r\n      name: name,\r\n      number: number,\r\n    }\r\n    const request = axios.post(baseUrl, person)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\nconst getPersons = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response)\r\n}\r\n\r\nconst updatePerson = (changedPerson) => {\r\n    console.log(changedPerson.id);\r\n    const request = axios.put(`${baseUrl}/${changedPerson.id}`, changedPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport {getPersons, postNewPerson, deletePerson, updatePerson}","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport Form from './components/Form'\nimport Numbers from './components/Numbers'\nimport AlertBox from './components/Alert'\nimport { getPersons, postNewPerson, deletePerson, updatePerson } from './components/Communicate'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [personsToShow, setPersonsToShow] = useState(persons)\n  const [alertBox, setAlertBox] = useState(\"\")\n\n  useEffect(() => {\n    getPersons()\n      .then(data => {\n        //console.log(response.data);\n        setPersons(data)\n      })\n  }, [])\n\n  useEffect(() => {\n    setPersonsToShow(persons)\n  }, [persons])\n\n  const onSubmitHandler = (event) => {\n    event.preventDefault()\n    if (persons.every(person => person.name !== newName)) {\n      postNewPerson(newName, newNumber)\n        .then(newPersons => {\n          setPersons(persons.concat([newPersons]))\n          setAlertBox(<AlertBox name={newName} action=\"add\" />)\n        })\n        .catch(error => {\n          console.log(error.response.data)\n          setAlertBox(<AlertBox name={error.response.data['error']} action=\"validationError\" />)\n        })\n\n    } else {\n      if (window.confirm(`${newName} is already in the phonebook. Do you want to replace the number?`)) {\n        const targetPerson = persons.find(person => person.name === newName)\n        console.log(targetPerson);\n        const changedPerson = { ...targetPerson, number: newNumber }\n        updatePerson(changedPerson)\n          .then(data => {\n            setPersons(persons.map(person => person.name !== data.name ? person : data))\n            setAlertBox(<AlertBox name={newName} action=\"update\" />)\n          })\n          .catch(error => {\n            setAlertBox(<AlertBox name={newName} action=\"deleted\" />)\n          })\n      }\n    }\n  }\n\n  const onPersonDeleteHandler = (event, id, name) => {\n    if (window.confirm(`Do you want to delete ${name}?`)) {\n      deletePerson(id)\n        .then(response => {\n          console.log(response)\n          getPersons()\n            .then(data => {\n              setPersons(data)\n              setAlertBox(<AlertBox name={name} action=\"delete\" />)\n            })\n        })\n        .catch(error => {\n          setAlertBox(<AlertBox name={newName} action=\"deleted\" />)\n        })\n    }\n  }\n\n  const searchHandler = (event) => {\n    setPersonsToShow(persons.filter(person => person.name.match(new RegExp(event.target.value, \"i\"))))\n  }\n\n  const nameChangeHandler = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const numberChangeHandler = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  console.log(alertBox)\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter searchHandler={(e) => searchHandler(e)} />\n      {alertBox}\n      <h2>Add a new </h2>\n      <Form\n        onSubmitHandler={(e) => onSubmitHandler(e)}\n        newName={newName}\n        nameChangeHandler={(e) => nameChangeHandler(e)}\n        newNumber={newNumber}\n        numberChangeHandler={(e) => numberChangeHandler(e)} />\n      <h2>Numbers</h2>\n      <Numbers personsToShow={personsToShow} onPersonDeleteHandler={onPersonDeleteHandler} />\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}